# ========================================
# NEXA OPER - EXEMPLO DE VARIÁVEIS (MONOREPO)
# Arquivo base recomendado: /Users/xavier/projetos/nexa/nexa-oper/.env
# ----------------------------------------

# Ambiente
NODE_ENV=development
TZ=America/Sao_Paulo

# Banco (API + Web + Prisma)
DATABASE_URL="mysql://usuario:senha@localhost:3306/nexa_oper"
SHADOW_DATABASE_URL="mysql://usuario:senha@localhost:3306/nexa_oper_shadow"

# API (Nest)
PORT=3001
GLOBAL_PREFIX=api
JWT_SECRET="troque-por-um-secret-com-32-ou-mais-caracteres"
CORS_ORIGINS="http://localhost:3000"
LOG_LEVEL=info
LOG_PRETTY=true
SERVICE_NAME=nexa-api
LOG_PATH=./logs
# Lista CSV de campos para mascarar nos logs (opcional)
# LOG_REDACT_PATHS=req.headers.authorization,req.headers.cookie,req.body.password

# Uploads (API + Web)
# Se relativo, será resolvido a partir da raiz do monorepo.
UPLOAD_ROOT=./uploads
# Pastas legadas adicionais (CSV ou JSON array), usadas como fallback de leitura.
# Exemplo CSV: /var/www/nexa-oper/uploads,/opt/legacy/uploads
# Exemplo JSON: ["/var/www/nexa-oper/uploads","/opt/legacy/uploads"]
UPLOAD_LEGACY_ROOTS=
# Exemplo: https://storage.seu-dominio.com (vazio = URLs relativas /uploads/...)
UPLOAD_BASE_URL=
# Proxy usado pelo Next.js para /uploads/* (opcional)
UPLOAD_PROXY_TARGET=http://localhost:3001
UPLOAD_STORAGE=local
UPLOAD_MAX_FILE_SIZE_BYTES=10485760
# Quando UPLOAD_STORAGE=s3
# AWS_S3_BUCKET=
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_S3_ENDPOINT=
# AWS_S3_PUBLIC_URL=

# Web (NextAuth)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET="troque-por-um-secret-diferente"
AUTH_SECRET="opcional-alternativo-ao-NEXTAUTH_SECRET"

# Web (client/server)
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_PHOTOS_BASE_URL=http://localhost:3001
# Endpoint opcional para envio de logs do browser
# NEXT_PUBLIC_API_LOG_URL=http://localhost:3001
# Base explícita para arquivos em storage/CDN (ex.: https://cdn.seu-dominio.com/uploads)
# NEXT_PUBLIC_UPLOAD_BASE_URL=
